const params = new URLSearchParams(window.location.search);
const id = parseInt(params.get("id"));

// Données simulées (en vrai, tu peux fetch depuis la BDD ici)
const installations = [
  {
    id: 1,
    client: "Jean Dupont",
    modeleOnduleur: "SMA Sunny Boy",
    modelePanneaux: "QCells Q.PEAK",
    commentaire: "Bonne exposition sud",
    date: "2023-05-12",
    nbPanneaux: 12,
    surface: 24,
    puissance: 3.6,
    localisation: "Nantes",
  },
  {
    id: 2,
    client: "Alice Martin",
    modeleOnduleur: "Huawei SUN2000",
    modelePanneaux: "Trina Solar Vertex",
    commentaire: "Installation sur toit plat",
    date: "2023-06-20",
    nbPanneaux: 15,
    surface: 30,
    puissance: 4.5,
    localisation: "Rennes",
  },
  {
    id: 3,
    client: "Pierre Leroy",
    modeleOnduleur: "Fronius Primo",
    modelePanneaux: "LG Neon 2",
    commentaire: "Zone légèrement ombragée",
    date: "2023-07-01",
    nbPanneaux: 10,
    surface: 20,
    puissance: 3.0,
    localisation: "Brest",
  },
  {
    id: 4,
    client: "Claire Dubois",
    modeleOnduleur: "ABB UNO-DM-3.3-TL",
    modelePanneaux: "JA Solar JAM60S10",
    commentaire: "Orientation sud-est",
    date: "2023-05-25",
    nbPanneaux: 13,
    surface: 26,
    puissance: 3.9,
    localisation: "Lorient",
  },
  {
    id: 5,
    client: "Thomas Garnier",
    modeleOnduleur: "Delta M50A",
    modelePanneaux: "REC Alpha Pure",
    commentaire: "Bon rendement même en hiver",
    date: "2023-06-10",
    nbPanneaux: 14,
    surface: 28,
    puissance: 4.2,
    localisation: "Nantes",
  },
  {
    id: 6,
    client: "Nina Lopez",
    modeleOnduleur: "Enphase IQ7+",
    modelePanneaux: "LONGi Hi-MO5m",
    commentaire: "Installation rapide sur tuile",
    date: "2023-07-15",
    nbPanneaux: 11,
    surface: 22,
    puissance: 3.3,
    localisation: "Saint-Nazaire",
  },
  {
    id: 7,
    client: "Julien Faure",
    modeleOnduleur: "Kaco Blueplanet 5.0 TL3",
    modelePanneaux: "Canadian Solar CS6K-280M",
    commentaire: "Toit incliné à 30°",
    date: "2023-08-05",
    nbPanneaux: 16,
    surface: 32,
    puissance: 4.8,
    localisation: "Vannes",
  },
  {
    id: 8,
    client: "Élodie Petit",
    modeleOnduleur: "SolarEdge SE5000H",
    modelePanneaux: "Yingli PANDA 60",
    commentaire: "Très bon ensoleillement annuel",
    date: "2023-08-18",
    nbPanneaux: 14,
    surface: 29,
    puissance: 4.3,
    localisation: "Nantes",
  },
  {
    id: 9,
    client: "Marc Vidal",
    modeleOnduleur: "Schneider Conext RL 5000",
    modelePanneaux: "SunPower SPR-X22-370",
    commentaire: "Autoconsommation prioritaire",
    date: "2023-09-01",
    nbPanneaux: 18,
    surface: 36,
    puissance: 5.4,
    localisation: "Rennes",
  },
  {
    id: 10,
    client: "Sophie Laurent",
    modeleOnduleur: "Omniksol-3k-TL2",
    modelePanneaux: "Panasonic VBHN330SA17",
    commentaire: "Faible bruit, bonne efficacité",
    date: "2023-09-12",
    nbPanneaux: 10,
    surface: 21,
    puissance: 3.1,
    localisation: "Brest",
  },
  {
    id: 11,
    client: "Bruno Roussel",
    modeleOnduleur: "Victron Multiplus II",
    modelePanneaux: "First Solar Series 6",
    commentaire: "Couplé à une batterie Victron",
    date: "2023-09-25",
    nbPanneaux: 12,
    surface: 25,
    puissance: 3.6,
    localisation: "Lorient",
  },
  {
    id: 12,
    client: "Léa Moreau",
    modeleOnduleur: "APSystems QS1",
    modelePanneaux: "Phono Solar PS390M4",
    commentaire: "Orientation ouest",
    date: "2023-10-05",
    nbPanneaux: 13,
    surface: 27,
    puissance: 3.9,
    localisation: "Nantes",
  },
  {
    id: 13,
    client: "Antoine Delmas",
    modeleOnduleur: "Solax X1 Boost",
    modelePanneaux: "Sharp ND-RJ260",
    commentaire: "Toiture inclinée 25°",
    date: "2023-10-20",
    nbPanneaux: 11,
    surface: 23,
    puissance: 3.3,
    localisation: "Saint-Nazaire",
  },
  {
    id: 14,
    client: "Camille Lefèvre",
    modeleOnduleur: "Ginlong Solis-5G",
    modelePanneaux: "Axitec AC-300M",
    commentaire: "Inclinaison sud parfaite",
    date: "2023-11-01",
    nbPanneaux: 15,
    surface: 30,
    puissance: 4.5,
    localisation: "Vannes",
  },
  {
    id: 15,
    client: "Romain Tessier",
    modeleOnduleur: "GoodWe GW5000D",
    modelePanneaux: "ZNSHINE ZXM6-NHLDD",
    commentaire: "Environnement peu ombragé",
    date: "2023-11-15",
    nbPanneaux: 14,
    surface: 28,
    puissance: 4.2,
    localisation: "Nantes",
  },
  {
    id: 16,
    client: "Juliette Meunier",
    modeleOnduleur: "Mastervolt Soladin WEB",
    modelePanneaux: "Solarwatt Vision Glass",
    commentaire: "Surimposition sur toiture ardoise",
    date: "2023-12-01",
    nbPanneaux: 13,
    surface: 26,
    puissance: 3.9,
    localisation: "Rennes",
  },
  {
    id: 17,
    client: "Kévin Allard",
    modeleOnduleur: "AEconversion INV350-60",
    modelePanneaux: "QCells Q.PEAK DUO",
    commentaire: "Très bon rendement annuel",
    date: "2023-12-10",
    nbPanneaux: 16,
    surface: 33,
    puissance: 4.8,
    localisation: "Brest",
  },
  {
    id: 18,
    client: "Marine Bourdon",
    modeleOnduleur: "Refusol 003K",
    modelePanneaux: "LG MonoX",
    commentaire: "Faible impact esthétique",
    date: "2023-12-20",
    nbPanneaux: 10,
    surface: 21,
    puissance: 3.1,
    localisation: "Lorient",
  },
  {
    id: 19,
    client: "Lucie Blanchard",
    modeleOnduleur: "Tigo TS4-A-O",
    modelePanneaux: "Trina Solar TSM-DE06M",
    commentaire: "Utilisation de optimiseurs",
    date: "2024-01-05",
    nbPanneaux: 12,
    surface: 24,
    puissance: 3.6,
    localisation: "Nantes",
  },
  {
    id: 20,
    client: "Damien Perrot",
    modeleOnduleur: "Delta Solivia 3.6",
    modelePanneaux: "LONGi LR4-60HPH",
    commentaire: "Positionnement optimisé pour l'été",
    date: "2024-01-20",
    nbPanneaux: 14,
    surface: 28,
    puissance: 4.2,
    localisation: "Saint-Nazaire",
  },
  {
    id: 21,
    client: "Émilie Masson",
    modeleOnduleur: "SolarEdge SE6000H",
    modelePanneaux: "JA Solar JAM54S31",
    commentaire: "Système piloté à distance",
    date: "2024-02-01",
    nbPanneaux: 15,
    surface: 30,
    puissance: 4.5,
    localisation: "Vannes",
  },
  {
    id: 22,
    client: "Théo Marchand",
    modeleOnduleur: "Fronius Galvo",
    modelePanneaux: "REC TwinPeak",
    commentaire: "Autoproduction + stockage",
    date: "2024-02-10",
    nbPanneaux: 13,
    surface: 26,
    puissance: 3.9,
    localisation: "Nantes",
  },
  {
    id: 23,
    client: "Audrey Lemoine",
    modeleOnduleur: "SMA Sunny Tripower",
    modelePanneaux: "SunPower Maxeon 3",
    commentaire: "Bon ensoleillement sud-est",
    date: "2024-02-25",
    nbPanneaux: 17,
    surface: 34,
    puissance: 5.1,
    localisation: "Rennes",
  },
  {
    id: 24,
    client: "Pauline Durand",
    modeleOnduleur: "Huawei SUN2000-5KTL",
    modelePanneaux: "Boviet BVM6610",
    commentaire: "Orientation ouest-sud-ouest",
    date: "2024-03-05",
    nbPanneaux: 12,
    surface: 24,
    puissance: 3.6,
    localisation: "Brest",
  },
  {
    id: 25,
    client: "Maxence Leroy",
    modeleOnduleur: "GoodWe GW5000-MS",
    modelePanneaux: "Seraphim SRP-400-BMB",
    commentaire: "Inclinaison 15° sur toit zinc",
    date: "2024-03-15",
    nbPanneaux: 14,
    surface: 28,
    puissance: 4.2,
    localisation: "Lorient",
  },
  {
    id: 26,
    client: "Inès Dufresne",
    modeleOnduleur: "Enphase IQ8",
    modelePanneaux: "ZNSHINE ZXM8",
    commentaire: "Micro-onduleurs pour chaque panneau",
    date: "2024-03-25",
    nbPanneaux: 15,
    surface: 30,
    puissance: 4.5,
    localisation: "Nantes",
  },
  {
    id: 27,
    client: "Mathieu Noel",
    modeleOnduleur: "ABB PVI-3.0",
    modelePanneaux: "Solarwatt Vision Pure",
    commentaire: "Faible inclinaison, bonne orientation",
    date: "2024-04-01",
    nbPanneaux: 11,
    surface: 22,
    puissance: 3.3,
    localisation: "Saint-Nazaire",
  },
  {
    id: 28,
    client: "Valentine Roch",
    modeleOnduleur: "Omniksol-1k-TL",
    modelePanneaux: "Sharp NU-JD445",
    commentaire: "Bâtiment tertiaire",
    date: "2024-04-10",
    nbPanneaux: 10,
    surface: 20,
    puissance: 3.0,
    localisation: "Vannes",
  },
  {
    id: 29,
    client: "Florian Caron",
    modeleOnduleur: "Victron EasySolar II",
    modelePanneaux: "Panasonic EverVolt",
    commentaire: "Installation connectée au cloud",
    date: "2024-04-15",
    nbPanneaux: 16,
    surface: 32,
    puissance: 4.8,
    localisation: "Nantes",
  },
  {
    id: 30,
    client: "Isabelle Giraud",
    modeleOnduleur: "APSystems YC600",
    modelePanneaux: "First Solar FS-6425",
    commentaire: "Système hybride avec batterie",
    date: "2024-04-20",
    nbPanneaux: 13,
    surface: 26,
    puissance: 3.9,
    localisation: "Rennes",
  },
];

const installation = installations.find((item) => item.id === id);

const container = document.getElementById("detailsContainer");
if (installation) {
  container.innerHTML = `
      <p><strong>Date d'installation :</strong> ${installation.date}</p>
      <p><strong>Nombre de panneaux :</strong> ${installation.nbPanneaux}</p>
      <p><strong>Surface :</strong> ${installation.surface} m²</p>
      <p><strong>Puissance crête :</strong> ${installation.puissance} kWc</p>
      <p><strong>Localisation :</strong> ${installation.localisation}</p>
      <p><strong>Client :</strong> ${installation.client}</p>
      <p><strong>Onduleur :</strong> ${installation.modeleOnduleur}</p>
      <p><strong>Panneaux :</strong> ${installation.modelePanneaux}</p>
      <p><strong>Commentaire :</strong> ${installation.commentaire}</p>
    `;
} else {
  container.textContent = "Installation non trouvée.";
}
